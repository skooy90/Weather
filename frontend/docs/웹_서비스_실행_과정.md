# 웹 서비스 실행 과정

## 1. Docker 컨테이너 시작 순서
1. MongoDB 컨테이너 시작
   - 27017 포트 바인딩
   - 데이터 볼륨 마운트

2. Backend 컨테이너 시작
   - MongoDB 연결 대기
   - 환경변수 로드
   - Express 서버 시작 (3000 포트)
   - 미들웨어 초기화 (CORS, 로깅, 보안)
   - API 라우트 등록

3. Frontend 컨테이너 시작
   - Nginx 설정 로드
   - 정적 파일 서빙
   - API 프록시 설정
   - 포트 바인딩 (환경변수 PORT 또는 10000)

## 2. 서비스 초기화 과정
### MongoDB 초기화
1. 데이터베이스 생성
2. 컬렉션 생성
3. 인덱스 생성
4. 초기 데이터 로드 (필요한 경우)

### Backend 초기화
1. 환경변수 검증
2. 데이터베이스 연결
3. Express 미들웨어 설정
   - Morgan 로깅
   - CORS 설정
   - JSON 파싱
   - 보안 헤더
4. JWT 인증 설정
5. API 라우트 마운트
6. 에러 핸들러 등록

### Frontend 초기화
1. 환경변수 로드
2. React 앱 마운트
3. 라우터 초기화
4. 상태 관리 설정
5. API 클라이언트 초기화

## 3. 상태 체크
### 헬스 체크 엔드포인트
- Backend: `/api/health`
- MongoDB: 커넥션 풀 상태
- Frontend: Nginx 상태 페이지

### 로깅
- 액세스 로그
- 에러 로그
- 애플리케이션 로그

## 4. 에러 처리
### 서비스 재시작 정책
- Backend: 오류 시 자동 재시작
- MongoDB: 데이터 정합성 유지
- Frontend: Nginx 오류 시 재시작

### 폴백 동작
- API 타임아웃 처리
- 데이터베이스 연결 재시도
- 캐시 복구 메커니즘 